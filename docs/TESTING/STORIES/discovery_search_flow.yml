id: discovery_search_flow
description: "Admin searches for legislation sources using Z.ai discovery"
persona: admin_operator
priority: P0
timeout_seconds: 90
goals:
  - "Verify discovery page loads with search interface"
  - "Test jurisdiction selection dropdown works"
  - "Confirm search results display (or appropriate no-results state)"
  - "Verify URL list rendering if sources found"
start_url: "/admin/discovery"
steps:
  - action: navigate
    path: "/admin/discovery"
    description: "Navigate to Discovery"

  - action: wait_for_selector
    selector: "[data-testid='jurisdiction-input']"
    description: "Verify discovery interface loads"

  - action: type
    selector: "[data-testid='jurisdiction-input']"
    text: "San Jose"
    description: "Enter jurisdiction"

  - action: assert_visible
    selector: "[data-testid='no-results-message']"
    description: "Confirm initial empty state"

metadata:
  wait_after_login_ms: 2000
  tags: ["admin", "discovery", "search"]
  priority: 1
  estimated_duration_seconds: 45
